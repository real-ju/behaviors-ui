import{e,f as a,o as l,c as r,w as t,n as o,j as s,a as i,k as n,l as f,m as u,p as d,i as c,S as g,_ as p,b as v,t as m}from"./index-075d9373.js";import{B as h}from"./index.d0c038f1.js";const b=p(e({name:"BeAppPage",options:{virtualHost:!0},props:{showNavbar:{type:Boolean,default:!1},title:{type:String,default:""},navBgColor:{type:String,default:"#ffffff"},immersiveNav:{type:Boolean,default:!1},bgColor:{type:String,default:"#ffffff"},loading:{type:Boolean,default:!1},loadingIconSize:{type:String,default:"50rpx"},pullDownRefresh:{type:Boolean,default:!1},refresherColor:{type:String,default:"#aaaaaa"},scrollWithAnimation:{type:Boolean,default:!0}},emits:["refreshData","scrolltolower","scroll","toggleImmersive"],setup(e,{expose:p,emit:v}){const m=e,b=a(0),y=a(!1),_=a(0),S=a(!1),B=()=>{S.value=!0,v("refreshData",k)},k=()=>{S.value=!1},w=()=>{v("scrolltolower")},C=e=>{_.value=e+1,u((()=>{_.value=e}))},x=e=>{if(v("scroll",e),!m.immersiveNav)return;e.detail.scrollTop>100?(y.value||v("toggleImmersive",!1),y.value=!0):(y.value&&v("toggleImmersive",!0),y.value=!1)};return(()=>{const{statusBarHeight:e}=d();b.value=e??0})(),p({finishRefresh:k,backTop:()=>{C(0)}}),(a,u)=>{const d=c,p=g;return l(),r(d,{class:"be-app-page"},{default:t((()=>[e.showNavbar?(l(),r(d,{key:0,class:o(["nav-bar",{"immersive-nav":e.immersiveNav,"white-nav":y.value}]),style:s({backgroundColor:e.navBgColor})},{default:t((()=>[i(d,{class:"status-bar-area",style:s({height:b.value+"px"})},null,8,["style"]),i(d,{class:"action-bar-area"},{default:t((()=>[n(a.$slots,"navBar",{title:e.title},void 0,!0)])),_:3})])),_:3},8,["class","style"])):f("v-if",!0),i(d,{class:"page-main"},{default:t((()=>[e.loading?f("v-if",!0):(l(),r(p,{key:0,style:s({backgroundColor:e.bgColor,"--refresher-color":e.refresherColor}),"scroll-y":"",onScroll:x,"scroll-with-animation":e.scrollWithAnimation,"scroll-top":_.value,onScrolltolower:w,"refresher-enabled":e.pullDownRefresh,"refresher-triggered":S.value,"refresher-background":"rgba(255, 255, 255, 0)",onRefresherrefresh:B},{default:t((()=>[n(a.$slots,"default",{},void 0,!0)])),_:3},8,["style","scroll-with-animation","scroll-top","refresher-enabled","refresher-triggered"])),e.loading?n(a.$slots,"loading",{key:1},(()=>[i(h,{bgColor:e.bgColor,iconSize:e.loadingIconSize},null,8,["bgColor","iconSize"])]),!0):f("v-if",!0),n(a.$slots,"upLayer",{},void 0,!0)])),_:3})])),_:3})}}}),[["__scopeId","data-v-30643258"]]),y=p(e({__name:"NavBar",props:{title:{type:String,default:""},bgTheme:{type:String,default:"light"}},setup:e=>(a,s)=>{const n=c;return l(),r(n,{class:o(["action-bar",{dark:"dark"===e.bgTheme}])},{default:t((()=>[i(n,{class:"back-btn"},{default:t((()=>[v(m("<"))])),_:1}),i(n,{class:"title"},{default:t((()=>[v(m(e.title),1)])),_:1})])),_:1},8,["class"])}}),[["__scopeId","data-v-6725327e"]]);export{y as N,b as _};
